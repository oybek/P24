
# Сервис для поиска аптек по наличию лекарств

Сущности предметной области:
1. Аптека
  - Название
  - Номер телефона для связи
  - Адрес
  - Режим работы

2. Лекарство
  - Название
  - Форма

3. Аптекарь
  - Аптека в которой он работает

Акторы:
1. Пользователь - пользуется сервисом для поиска аптек по имеющемуся списку лекарств
2. Аптекарь - периодически актуализирует наличие лекарств в своей аптеке

Сценарии взаимодействия с ботом:
1. Пользователь ищет подходящие аптеки:
  - Пользователь записывает и отправляет голосовое сообщение боту
    в котором диктует название лекарств которые ему нужны
  - Пользователь получает сообщение с кнопкой - результат поиска:
    "Найдено N аптек которые содержат нужные Вам лекарства"
    [ Посмотреть ]
  - Пользователь нажимает кнопку "Посмотреть" и открывает миниприложение в котором
    он видит список аптек расположенных сверху вниз в порядке наличия запрошенных
    лекарств в них, каждый пункт в списке содержит информацию по аптеке:
    - Название
    - Номер телефона (Кнопка вызова справа)
    - Адрес (Ссылка на 2gis)
    - Название лекарств через запятую, которые в наличии

2. Аптекарь актуализирует список лекарство в филиале
  - Аптекарь выгружает список лекарств которые в наличии в формате 1c (возможно другой)
  - Аптекарь отправляет данный файл боту
  - Аптекарь видит сообщение - база обновлена

3. Аптекарь получает напоминание об обновлении базы
  - Аптекарь получает уведомление что надо актуализировать базу

# Реализация

## Front End

1. Необходимо реализовать mini-app telegram, использовать официальную библиотеку
2. При открытии страницы - сделать GET запрос на бэкенд формата
  url/apteka/search/id
3. id - можно получить из url-а страницы, формат uuid
4. Запрос вернет список формата:
200 OK
```json
[
  {
    "name" : "Аптека №1",
    "address" : "Токтоналиева 61",
    "phone" : "0 555 23 12 12",
    "work_hours" : "Пн-Пт 9-21, Сб,Вс 9-18"
    "medicines" : ["Парацетамол", "Тайлолхот", ...]
  },
  ...
]
```

## Back End

TODO

0. Настроить деплой и запустить простого бота который распознает голосовые сообщения
1. Спроектировать схему базы данных
2. Реализовать модуль распознавание списка лекарств из голосового сообщения
3. Написать движок поиска лекарство по заданному списку
4. Реализовать поиск по аптекам
5. Реализовать http ручку для фронта
6. Реализовать сценарий актуализации списка лекарств
